{"version":3,"sources":["theme.js","requests/Authentication.js","requests/Waterflow.js","actions/waterflow.js","components/Charts/LineChart/LineChart.js","actions/Bills.js","requests/Bills.js","components/Charts/MonthBarChart/MonthBarChart.js","components/Dashboard/Bills/Bills.js","actions/Devices.js","requests/Devices.js","components/Dashboard/Dashboard.js","actions/Authentication.js","components/Login/Login.js","components/AppBar/AppBar.js","components/Dashboard/Profile/Profile.js","actions/Alarms.js","requests/Alarms.js","components/Dashboard/Alarms/Alarms.js","App.js","serviceWorker.js","reducers/Authentication.js","reducers/Bills.js","reducers/waterflow.js","reducers/Devices.js","reducers/Alarms.js","reducers/index.js","index.js"],"names":["createMuiTheme","typography","useNextVariants","palette","primary","main","secondary","themeName","baseUrl","console","log","process","US","axios","create","baseURL","timeout","headers","Content-Type","getWaterFlowFromToGrouped","device","from","to","arguments","length","undefined","Date","getTime","token","groupBy","callback","get","concat","params","group","Authorization","then","response","data","catch","err","FETCH_WATERFLOW","FETCH_WATERFLOW_CURRENT","FETCH_WATERFLOW_PAST","fetchWaterFromTo","dispatch","waterflowRequests","resp","fetchWaterFromToGrouped","fetchMonthWaterFlow","month","type","consumption","LineChart","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","props","devices","count","fetchData","current","waterflowActions","device_id","getFullYear","getMonth","current_month","past","nextProps","map","i","time","value","past_month","res","v","react_default","a","createElement","className","Typography_default","variant","style","textAlign","gutterBottom","es6","width","height","minHeight","margin","top","right","left","bottom","strokeDasharray","dataKey","stroke","PureComponent","jsfiddleUrl","connect","ownProps","waterflow","authentication","bindActionCreators","FETCH_BILLS","fetch_bills","billsRequests","bills","MonthBarChart","formatter","fill","billsActions","Bills","paddingBottom","Paper_default","Table_default","TableHead_default","TableRow_default","TableCell_default","align","TableBody_default","row","id","key","component","scope","date","import","price","React","Component","FETCH_DEVICES","fetch_alldevices","devicesRequests","Dashboard","prototype","monthDays","getDate","devicesActions","Grid_default","container","direction","justify","alignItems","item","xs","Charts_MonthBarChart_MonthBarChart","Charts_LineChart_LineChart","Dashboard_Bills_Bills","LOG_IN","LOG_OUT","log_in","username","password","post","authRequests","window","alert","access_token","localStorage","setItem","validate_token","getItem","log_out","action","Login","handleChange","name","event","setState","defineProperty","target","email","handleClick","bind","assertThisInitialized","authenticationActions","authenticated","es_Redirect","spacing","md","noValidate","autoComplete","TextField_default","label","onChange","Button_default","color","onClick","PrimaryAppBar","anchorEl","mobileMoreAnchorEl","handleProfileMenuOpen","currentTarget","handleMenuClose","handleMobileMenuClose","handleMobileMenuOpen","history","push","_this$state","classes","isMenuOpen","Boolean","isMobileMenuOpen","renderMenu","Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","open","onClose","MenuItem_default","Link","renderMobileMenu","IconButton_default","Badge_default","badgeContent","Notifications_default","AccountCircle_default","root","AppBar_default","position","Toolbar_default","handleDashboard","grow","sectionDesktop","aria-owns","aria-haspopup","sectionMobile","MoreVert_default","withRouter","withStyles","theme","flexGrow","menuButton","marginLeft","marginRight","title","display","breakpoints","up","inputRoot","inputInput","paddingTop","unit","paddingRight","paddingLeft","transition","transitions","Profile","react","FETCH_ALARMS","getAlarms","Alarms","alarmsActions","Paper_Paper_default","Table_Table_default","TableHead_TableHead_default","TableRow_TableRow_default","TableCell_TableCell_default","TableBody_TableBody_default","alarms","message","timestamp","App","BrowserRouter","MuiThemeProvider_default","components_AppBar_AppBar","Route","path","exact","render","Redirect","PrivateRoute","authed","src","location","origin","_ref","rest","objectWithoutProperties","assign","pathname","hostname","match","initialState","rootReducer","combineReducers","objectSpread","store","compose","applyMiddleware","thunk","createStore","reducers","ReactDOM","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cc472b85.chunk.js","sourcesContent":["// src/ui/theme/index.js\n\nimport {createMuiTheme} from '@material-ui/core/styles';\n\nconst palette = {\n    primary: {main: '#455458'},\n    secondary: {main: '#00BCD4'}\n};\nconst themeName = \"River Bed Robin's Egg Blue Mouse\";\n\nexport default createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    }, palette, themeName\n});\n","import axios from 'axios'\n\nlet baseUrl = '';\n\nif (process.env.NODE_ENV === \"production\") {\n    baseUrl = 'https://iotuserservice.azurewebsites.net'\n}\nconsole.log(process.env)\nexport const US = axios.create({\n    baseURL: baseUrl,\n    timeout: 1000,\n    headers: {'Content-Type': 'application/json'}\n});\n\n\n/**\n *  HTTP POST request for login authentication\n *\n * @param username {string}\n * @param password {string}\n * @param callback {function(boolean,{access_token:string})}\n */\nexport const authenticateUser = (username, password, callback) => {\n    US.post('/auth', {\n        username,\n        password\n    })\n        .then(response => {\n            callback(false, response.data)\n        }).catch(err => {\n        callback(true, err)\n    })\n};\n\nexport const validateUser = (callback) => {\n    US.get('/protected', {headers: {Authorization: `JWT ${localStorage.getItem('token')}`}}\n    )\n        .then(response => {\n            callback(false)\n        }).catch(err => {\n        callback(true)\n    })\n};","import {US} from './Authentication'\n\n\n/**\n *  HTTP GET\n *  get waterflow between two dates\n *\n * @param from {string}\n * @param to {string}\n * @param token {string}\n * @param callback {function(boolean,{})}\n */\nexport const getWaterFlowFromTo = (device, from, to = new Date().getTime(), token, callback) => {\n    console.log(token)\n    US.get(`/waterflow/${device}`, {\n        params: {\n            from: from,\n            to: to\n        }, headers: {\n            Authorization: `JWT ${token}`\n        }\n    })\n        .then(response => {\n            callback(false, response.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};\n\n/**\n *  HTTP GET\n *  get waterflow between two dates\n *\n * @param from {string}\n * @param to {string}\n * @param token {string}\n * @param callback {function(boolean,{})}\n */\nexport const getWaterFlowFromToGrouped = (device, from, to = new Date().getTime(), token, groupBy, callback) => {\n    US.get(`/waterflow/${device}`, {\n        params: {\n            from: from,\n            to: to,\n            group: groupBy\n        }, headers: {\n            Authorization: `JWT ${token}`\n        }\n    })\n        .then(response => {\n            callback(false, response.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import * as waterflowRequests from '../requests/Waterflow'\n\nexport const FETCH_WATERFLOW = 'FETCH_WATERFLOW'\nexport const FETCH_WATERFLOW_CURRENT = 'FETCH_WATERFLOW_CURRENT'\nexport const FETCH_WATERFLOW_PAST = 'FETCH_WATERFLOW_PAST'\n\n\nexport const fetchWaterFromTo = (device, from, to, token) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromTo(device, from, to, token, (err, resp) => {\n            console.log(resp)\n        });\n    };\n};\n\nexport const fetchWaterFromToGrouped = (device, from, to, token, group, callback) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromToGrouped(device, from, to, token, group, (err, resp) => {\n            console.log(resp)\n        });\n    };\n};\nexport const fetchMonthWaterFlow = (device, from, to, token, group, month, callback) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromToGrouped(device, from, to, token, group, (err, resp) => {\n            if (!err) {\n                if (month === 'current')\n                    dispatch({\n                        type: FETCH_WATERFLOW_CURRENT,\n                        consumption: resp\n                    });\n                else\n                    dispatch({\n                        type: FETCH_WATERFLOW_PAST,\n                        consumption: resp\n                    })\n            }\n        });\n    };\n};","import React, {PureComponent} from 'react';\nimport {\n    LineChart as ReLineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as waterflowActions from \"../../../actions/waterflow\";\nimport connect from \"react-redux/es/connect/connect\";\nimport * as _ from 'lodash'\n\nconst data = [\n    {\n        name: 'Page A', uv: 4000, pv: 2400, amt: 2400,\n    },\n    {\n        name: 'Page B', uv: 3000, pv: 1398, amt: 2210,\n    },\n    {\n        name: 'Page C', uv: 2000, pv: 9800, amt: 2290,\n    },\n    {\n        name: 'Page D', uv: 2780, pv: 3908, amt: 2000,\n    },\n    {\n        name: 'Page E', uv: 1890, pv: 4800, amt: 2181,\n    },\n    {\n        name: 'Page F', uv: 2390, pv: 3800, amt: 2500,\n    },\n    {\n        name: 'Page G', uv: 3490, pv: 4300, amt: 2100,\n    },\n];\n\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n];\n\nclass LineChart extends PureComponent {\n    static jsfiddleUrl = 'https://jsfiddle.net/alidingling/xqjtetw0/';\n\n    constructor() {\n        super();\n        this.state = {\n            data: []\n        }\n\n    }\n\n    componentDidMount() {\n\n        if (this.props.devices.count > 0)\n            this.fetchData(this.props.devices.devices[0])\n    }\n\n    fetchData(device) {\n        let current = new Date();\n\n        this.props.waterflowActions.fetchMonthWaterFlow(\n            device.device_id,\n            new Date(current.getFullYear(), current.getMonth()).getTime(),\n            current.getTime(),\n            this.props.token,\n            '8h',\n            'current'\n        );\n\n        let current_month = current.getMonth();\n        let past = new Date(current_month === 0 ? current.getFullYear() - 1 : current.getFullYear(),\n            current_month === 0 ? 12 : current_month - 1,\n            current_month - 1);\n\n        this.props.waterflowActions.fetchMonthWaterFlow(\n            device.device_id,\n            past.getTime(),\n            new Date(current.getFullYear(), current.getMonth()).getTime(),\n            this.props.token,\n            '8h',\n            'past'\n        )\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.state.data.length === 0) {\n            if (nextProps.current_month.length > 0) {\n                this.state.data = nextProps.current_month.map((data,i)=>{\n                    return {\n                        time: i,\n                        current: data.value,\n                    }\n                })\n            } else {\n                this.state.data = nextProps.past_month.map((data,i)=>{\n                    return {\n                        time: i,\n                        past: data.value,\n                    }\n                })\n            }\n        } else {\n            let res = [];\n\n            for (let i = 0; i < nextProps.past_month.length; i++) {\n                let v = 0;\n                if (i >= nextProps.current_month.length)\n                    v = null;\n                else\n                    v = nextProps.current_month[i].value;\n\n                res[i] = {\n                    time: i,\n                    past: nextProps.past_month[i].value,\n                    current: v\n                }\n            }\n            this.state.data =res\n        }\n\n        if (this.props.devices.count === 0 && nextProps.devices.count > 0) {\n            this.fetchData(nextProps.devices.devices[0])\n        }\n        return true\n    }\n\n\n    render() {\n        console.log(this.state.data)\n        return (\n            <div className={'chart-container'}>\n                <Typography variant=\"h5\" style={{textAlign: 'center'}} gutterBottom>\n                    Current Consumption\n                </Typography>\n                <ResponsiveContainer className={'chart-content'} width=\"80%\" height={280} minHeight={200}>\n                    <ReLineChart\n                        width={500}\n                        height={300}\n                        data={this.state.data}\n                        margin={{\n                            top: 5, right: 30, left: 20, bottom: 5,\n                        }}\n                    >\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\n                        <XAxis dataKey=\"time\"/>\n                        <YAxis/>\n                        <Tooltip/>\n                        <Legend/>\n                        <Line type=\"monotone\" dataKey=\"current\" stroke=\"#455559\"/>\n                        <Line type=\"monotone\" dataKey=\"past\" stroke=\"#82ca9d\" strokeDasharray=\"5 5\"/>\n                    </ReLineChart>\n                </ResponsiveContainer>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        current_month: state.waterflow.current_month,\n        past_month: state.waterflow.past_month,\n        devices: state.devices,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        waterflowActions: bindActionCreators(waterflowActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LineChart);","import * as billsRequests from '../requests/Bills'\n\nexport const FETCH_BILLS = 'FETCH_BILLS';\n\n\nexport const fetch_bills = (token) => {\n    return (dispatch) => {\n        billsRequests.getBills(token, (err, data) => {\n            if(!err)\n                dispatch({\n                    type: FETCH_BILLS,\n                    bills: data.bills\n                })\n        })\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all bills from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getBills = (token, callback) => {\n    US.get('/bills', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React, {PureComponent} from 'react';\nimport {\n    BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as billsActions from \"../../../actions/Bills\";\nimport connect from \"react-redux/es/connect/connect\";\n\n\nclass MonthBarChart extends PureComponent {\n    static jsfiddleUrl = 'https://jsfiddle.net/alidingling/30763kr7/';\n\n    constructor(props) {\n        super();\n    }\n\n\n    render() {\n        return (\n            <div className={'chart-container'}>\n                <Typography variant=\"h5\" style={{textAlign: 'center'}} gutterBottom>\n                    Month Bills\n                </Typography>\n                <ResponsiveContainer className={'chart-content'} width=\"80%\" height={280} minHeight={200}>\n                    <BarChart\n                        width={500}\n                        height={300}\n                        data={this.props.bills.bills}\n                        margin={{\n                            top: 5, right: 30, left: 20, bottom: 5,\n                        }}\n                    >\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\n                        <XAxis dataKey=\"time\"/>\n                        <YAxis/>\n                        <Tooltip  formatter={(value) => `${value} DKK`}/>\n                        <Legend/>\n                        <Bar dataKey=\"import\" fill=\"#455559\"/>\n                    </BarChart>\n                </ResponsiveContainer>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        bills: state.bills,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        billsActions: bindActionCreators(billsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MonthBarChart);","import React from 'react';\nimport './Bills.css';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as billsActions from \"../../../actions/Bills\";\nimport connect from \"react-redux/es/connect/connect\";\n\n\nclass Bills extends React.Component {\n    constructor() {\n        super();\n    }\n\n    componentWillMount() {\n        this.props.billsActions.fetch_bills(this.props.token)\n    }\n\n\n    render() {\n        return (\n            <div className={'bills-container'}>\n                <Typography variant=\"h5\" style={{paddingBottom: '10px'}} gutterBottom>\n                    Billing History\n                </Typography>\n                <Paper>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Bills</TableCell>\n                                <TableCell align=\"right\">Date</TableCell>\n                                <TableCell align=\"right\">Import (DKK)</TableCell>\n                                <TableCell align=\"right\">Consumption</TableCell>\n                                <TableCell align=\"right\">Price (per liter)</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.props.bills.bills.map((row, id) => (\n                                <TableRow key={id} className={'bills-row'}>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {id}\n                                    </TableCell>\n                                    <TableCell align=\"right\">{row.date}</TableCell>\n                                    <TableCell align=\"right\">{row.import}</TableCell>\n                                    <TableCell align=\"right\">{row.waterflow}</TableCell>\n                                    <TableCell align=\"right\">{row.price}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        bills: state.bills,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        billsActions: bindActionCreators(billsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Bills);","import * as devicesRequests from '../requests/Devices'\n\nexport const FETCH_DEVICES = 'FETCH_DEVICES';\n\n\nexport const fetch_alldevices = (token) => {\n    return (dispatch) => {\n        devicesRequests.getDevices(token, (err, data) => {\n            if (!err) {\n                dispatch({\n                    type: FETCH_DEVICES,\n                    devices: data.devices,\n                    count: data.count\n                })\n            }\n        });\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all devices from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getDevices = (token, callback) => {\n    US.get('/devices', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React from 'react'\nimport LineChart from \"../Charts/LineChart/LineChart\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport './Dashboard.css'\nimport MonthBarChart from \"../Charts/MonthBarChart/MonthBarChart\";\nimport Bills from \"./Bills/Bills\";\nimport {bindActionCreators} from \"redux\";\nimport * as devicesActions from \"../../actions/Devices\";\nimport connect from \"react-redux/es/connect/connect\";\n\nclass Dashboard extends React.Component {\n    constructor() {\n        super()\n    }\n\n    componentWillMount() {\n        Date.prototype.monthDays = function () {\n            let d = new Date(this.getFullYear(), this.getMonth() + 1, 0);\n            return d.getDate();\n        }\n    }\n\n    componentDidMount(){\n        this.props.devicesActions.fetch_alldevices(this.props.token)\n    }\n\n    render() {\n        return (\n            <Grid container\n                  className={'dashboard-container'}\n                  direction=\"row\"\n                  justify=\"center\"\n                  alignItems=\"center\">\n                <Grid item\n                      xs={6}>\n                    <MonthBarChart/>\n                </Grid>\n                <Grid item\n                      xs={6}>\n                    <LineChart/>\n                </Grid>\n                <Grid item\n                      xs={12}>\n                    <Bills/>\n                </Grid>\n            </Grid>\n        )\n    }\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        devicesActions: bindActionCreators(devicesActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","import * as authRequests from '../requests/Authentication'\n\nexport const LOG_IN = 'LOG_IN';\nexport const LOG_OUT = 'LOG_OUT';\n\nexport const log_in = (username, password) => {\n    return (dispatch) => {\n        authRequests.authenticateUser(username, password, (err, resp) => {\n            if (!err) {\n                dispatch({\n                    type: LOG_IN,\n                    username,\n                    password,\n                    token: resp.access_token\n                });\n                localStorage.setItem('token', resp.access_token);\n            } else {\n                window.alert('failed to auth')\n            }\n        });\n    }\n};\n\nexport const validate_token = () => {\n    return (dispatch) => {\n        authRequests.validateUser((err) => {\n            if (!err) {\n                dispatch({\n                    type: LOG_IN,\n                    token: localStorage.getItem('token')\n                });\n            }\n        })\n    }\n};\n\nexport const log_out = () => {\n    const action = {\n        type: LOG_OUT,\n    };\n    return (dispatch) => {\n        dispatch(action)\n    }\n};","import React from 'react'\nimport * as authenticationActions from '../../actions/Authentication'\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport './Login.css'\n\n\nclass Login extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: ''\n        };\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick() {\n        this.props.authenticationActions.log_in(this.state.email, this.state.password)\n    }\n\n    handleChange = name => event => {\n        this.setState({[name]: event.target.value});\n    };\n\n    render() {\n        if (this.props.authentication.authenticated)\n            return (<Redirect to={'/dashboard'}/>);\n        else\n            return (<Grid container spacing={0}\n                          direction=\"column\"\n                          justify=\"space-between\"\n                          alignItems=\"center\">\n                <Grid item\n                      className={'login-form-container'}\n                      xs={8}\n                      md={6}>\n                    <form className={'login-form-content'} noValidate autoComplete=\"off\">\n                        <TextField\n                            id=\"standard-name\"\n                            label=\"Email\"\n                            value={this.state.email}\n                            onChange={this.handleChange('email')}\n                            margin=\"normal\"\n                        />\n\n                        <TextField\n                            id=\"standard-uncontrolled\"\n                            label=\"password\"\n                            margin=\"normal\"\n                            type=\"password\"\n                            value={this.state.password}\n                            onChange={this.handleChange('password')}\n                        />\n                        <Button variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.handleClick}>Log in</Button>\n                    </form>\n                </Grid>\n            </Grid>)\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        authenticationActions: bindActionCreators(authenticationActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withRouter } from 'react-router-dom';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport {withStyles} from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport './AppBar.css';\n\nimport {connect} from \"react-redux\";\nimport {Link} from 'react-router-dom'\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginLeft: -12,\n        marginRight: 20,\n    },\n    title: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            display: 'block',\n        },\n    },\n    inputRoot: {\n        color: 'inherit',\n        width: '100%',\n    },\n    inputInput: {\n        paddingTop: theme.spacing.unit,\n        paddingRight: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: theme.spacing.unit * 10,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n            width: 200,\n        },\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n});\n\nclass PrimaryAppBar extends React.Component {\n    state = {\n        anchorEl: null,\n        mobileMoreAnchorEl: null,\n    };\n\n    handleProfileMenuOpen = event => {\n        this.setState({anchorEl: event.currentTarget});\n    };\n\n    handleMenuClose = () => {\n        this.setState({anchorEl: null});\n        this.handleMobileMenuClose();\n\n    };\n\n    handleMobileMenuOpen = event => {\n        this.setState({mobileMoreAnchorEl: event.currentTarget});\n    };\n\n    handleMobileMenuClose = () => {\n        this.setState({mobileMoreAnchorEl: null});\n    };\n\n    handleDashboard(){\n        this.props.history.push('/dashboard');\n    }\n    render() {\n\n        const {anchorEl, mobileMoreAnchorEl} = this.state;\n        const {classes} = this.props;\n        const isMenuOpen = Boolean(anchorEl);\n        const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n        const renderMenu = (\n            <Menu\n                anchorEl={anchorEl}\n                anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n                transformOrigin={{vertical: 'top', horizontal: 'right'}}\n                open={isMenuOpen}\n                onClose={this.handleMenuClose}>\n                <MenuItem\n                    component={Link} to=\"/profile\"\n                    onClick={this.handleMenuClose}>\n                    Profile\n                </MenuItem>\n                <MenuItem\n                    onClick={this.handleMenuClose}\n                    component={Link} to=\"/bills\">\n                    My bills\n                </MenuItem>\n            </Menu>\n        );\n\n        const renderMobileMenu = (\n            <Menu\n                anchorEl={mobileMoreAnchorEl}\n                anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n                transformOrigin={{vertical: 'top', horizontal: 'right'}}\n                open={isMobileMenuOpen}\n                onClose={this.handleMenuClose}>\n                <MenuItem onClick={this.handleMobileMenuClose}>\n                    <IconButton color=\"inherit\">\n                        <Badge badgeContent={11} color=\"secondary\">\n                            <NotificationsIcon/>\n                        </Badge>\n                    </IconButton>\n                    <p>Notifications</p>\n                </MenuItem>\n                <MenuItem onClick={this.handleProfileMenuOpen}>\n                    <IconButton color=\"inherit\">\n                        <AccountCircle/>\n                    </IconButton>\n                    <p>Profile</p>\n                </MenuItem>\n            </Menu>\n        );\n\n        return (\n            <div className={classes.root}>\n                <AppBar position=\"static\"  >\n                    <Toolbar>\n                        <div className={'app-logo-container'}>\n                            <div  onClick={this.handleDashboard.bind(this)} className=\"btn btn-one\">\n                                <span>Water Flow</span>\n                            </div>\n                        </div>\n                        <div className={classes.grow}/>\n                        {this.props.authentication.authenticated && (\n                            <div>\n\n                                <div className={classes.sectionDesktop}>\n                                    <IconButton color=\"inherit\"\n                                                component={Link} to=\"/notifications\">\n                                        <Badge color=\"secondary\">\n                                            <NotificationsIcon/>\n                                        </Badge>\n                                    </IconButton>\n                                    <IconButton\n                                        aria-owns={isMenuOpen ? 'material-appbar' : undefined}\n                                        aria-haspopup=\"true\"\n                                        onClick={this.handleProfileMenuOpen}\n                                        color=\"inherit\">\n                                        <AccountCircle/>\n                                    </IconButton>\n                                </div>\n                                <div className={classes.sectionMobile}>\n                                    <IconButton aria-haspopup=\"true\" onClick={this.handleMobileMenuOpen}\n                                                color=\"inherit\">\n                                        <MoreIcon/>\n                                    </IconButton>\n                                </div>\n                            </div>\n                        )}\n                    </Toolbar>\n                </AppBar>\n                {renderMenu}\n                {renderMobileMenu}\n            </div>\n        );\n    }\n}\n\nPrimaryAppBar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(withStyles(styles)(PrimaryAppBar)))","import * as React from \"react\";\nimport './Profile.css'\n\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n    render() {\n        return (\n            <div>\n                Profile\n            </div>\n        )\n    }\n\n}\n\n\nexport default Profile","import * as alarmActions from '../requests/Alarms'\n\nexport const FETCH_ALARMS = 'FETCH_ALARMS';\n\nexport const getAlarms = () => {\n    return (dispatch) => {\n        alarmActions.getAlarms(localStorage.getItem('token'), (err, data) => {\n            if (!err) {\n                dispatch({\n                    type: FETCH_ALARMS,\n                    data\n                })\n            }\n        })\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all bills from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getAlarms = (token, callback) => {\n    US.get('/alarms', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React from 'react';\nimport './Alarms.css';\nimport {bindActionCreators} from \"redux\";\nimport * as alarmsActions from \"../../../actions/Alarms\";\nimport connect from \"react-redux/es/connect/connect\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport Paper from \"@material-ui/core/Paper/Paper\";\nimport Table from \"@material-ui/core/Table/Table\";\nimport TableHead from \"@material-ui/core/TableHead/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody/TableBody\";\n\nclass Alarms extends React.Component {\n    constructor() {\n        super();\n    }\n\n    componentWillMount() {\n        this.props.alarmsActions.getAlarms()\n    }\n\n    render() {\n        return (\n            <div className={'alarms-container'}>\n                <Typography variant=\"h5\" style={{paddingBottom: '10px'}} gutterBottom>\n                    Billing History\n                </Typography>\n                <Paper>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Device Id</TableCell>\n                                <TableCell align=\"right\" style={{textAlign: 'center'}}>Notification</TableCell>\n                                <TableCell align=\"right\">Time</TableCell>\n                                <TableCell align=\"right\">Value</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.props.alarms.alarms.map((row, id) => (\n                                <TableRow key={id} className={'alarm-row'}>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {row.device_id}\n                                    </TableCell>\n                                    <TableCell align=\"right\">{row.message}</TableCell>\n                                    <TableCell align=\"right\">{row.timestamp}</TableCell>\n                                    <TableCell align=\"right\">{row.value}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        alarms: state.alarms,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        alarmsActions: bindActionCreators(alarmsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Alarms);","import React from \"react\";\nimport {\n    BrowserRouter as Router,\n    Route,\n    Link,\n    Redirect,\n    withRouter\n} from \"react-router-dom\";\nimport theme from './theme'\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport Dashboard from \"./components/Dashboard/Dashboard\";\nimport {bindActionCreators} from \"redux\";\nimport * as authenticationActions from \"./actions/Authentication\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport MenuAppBar from \"./components/AppBar/AppBar\";\nimport './App.css'\nimport Profile from \"./components/Dashboard/Profile/Profile\";\nimport Bills from \"./components/Dashboard/Bills/Bills\";\nimport Alarms from \"./components/Dashboard/Alarms/Alarms\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n    componentWillMount(){\n        this.props.authenticationActions.validate_token();\n    }\n\n    render() {\n        return (\n            <Router>\n                <MuiThemeProvider theme={theme}>\n                    <MenuAppBar/>\n                    <Route path='/' exact render={() => (<Redirect to={'/login'}/>)}/>\n                    <Route path='/login' component={Login}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/dashboard'\n                                  component={Dashboard}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/profile'\n                                   component={Profile}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/bills'\n                                  component={Bills}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/notifications'\n                                  component={Alarms}/>\n                    <img src={window.location.origin +'/Logo_IT_University_of_Copenhagen.jpg'}  className={'image-responsive itu-logo'}/>\n                </MuiThemeProvider>\n            </Router>)\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        authenticationActions: bindActionCreators(authenticationActions, dispatch)\n    }\n};\n\n\nfunction PrivateRoute({component: Component, authed, ...rest}) {\n    return (\n        <Route\n            {...rest}\n            render={(props) => authed === true\n                ? <Component {...props} />\n                : <Redirect to={{pathname: '/login', state: {from: props.location}}}/>}\n        />\n    )\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\n    LOG_IN,\n    LOG_OUT\n} from '../actions/Authentication'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    username: '',\n    password: '',\n    authenticated: false,\n    token: localStorage.getItem('token')\n};\n\nexport default function authentication(state = initialState, action) {\n    switch (action.type) {\n        case LOG_IN:\n            return {\n                ...state,\n                username: action.username,\n                password: action.password,\n                token: action.token,\n                authenticated: true\n            };\n        case LOG_OUT:\n            return {\n                ...state,\n                authenticated: false\n\n            };\n\n        default:\n            return state\n    }\n}","import {\n    FETCH_BILLS\n} from '../actions/Bills'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    bills: [],\n};\n\nexport default function bills(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_BILLS:\n            return {\n                ...state,\n                bills: action.bills,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_WATERFLOW,\n    FETCH_WATERFLOW_CURRENT,\n    FETCH_WATERFLOW_PAST\n} from '../actions/waterflow'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    consumption: [],\n    current_month: [],\n    past_month: []\n};\n\nexport default function waterflow(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_WATERFLOW:\n            return {\n                ...state,\n                consumption: action.consumption,\n            };\n        case FETCH_WATERFLOW_PAST:\n            return {\n                ...state,\n                past_month: action.consumption,\n            };\n        case FETCH_WATERFLOW_CURRENT:\n            return {\n                ...state,\n                current_month: action.consumption,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_DEVICES\n} from '../actions/Devices'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    devices: [],\n    count: 0\n};\n\nexport default function devices(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_DEVICES:\n            return {\n                ...state,\n                devices: action.devices,\n                count: action.count,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_ALARMS\n} from '../actions/Alarms'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    alarms: [],\n};\n\nexport default function authentication(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_ALARMS:\n            return {\n                ...state,\n                alarms: action.data,\n            };\n        default:\n            return state\n    }\n}","import authentication from './Authentication'\nimport bills from './Bills'\nimport waterflow from './waterflow'\nimport devices from './Devices'\nimport alarms from './Alarms'\nimport {combineReducers} from \"redux\";\n\nconst rootReducer = combineReducers({\n    authentication,\n    bills,\n    waterflow,\n    devices,\n    alarms\n});\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport reducers from './reducers'\nimport {applyMiddleware, createStore, compose} from \"redux\";\nimport {Provider} from \"react-redux\";\nimport thunk from 'redux-thunk'\n\nconst store = compose(applyMiddleware(thunk))(createStore)(reducers);\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}