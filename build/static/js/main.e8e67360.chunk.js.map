{"version":3,"sources":["theme.js","requests/Authentication.js","requests/Waterflow.js","actions/waterflow.js","components/Charts/LineChart/LineChart.js","actions/Bills.js","requests/Bills.js","components/Charts/MonthBarChart/MonthBarChart.js","components/Dashboard/Bills/Bills.js","actions/Devices.js","requests/Devices.js","components/Dashboard/Dashboard.js","actions/Authentication.js","components/Login/Login.js","components/AppBar/AppBar.js","components/Dashboard/Profile/Profile.js","actions/Alarms.js","requests/Alarms.js","components/Dashboard/Alarms/Alarms.js","App.js","serviceWorker.js","reducers/Authentication.js","reducers/Bills.js","reducers/waterflow.js","reducers/Devices.js","reducers/Alarms.js","reducers/index.js","index.js"],"names":["createMuiTheme","typography","useNextVariants","palette","primary","main","secondary","themeName","baseUrl","US","axios","create","baseURL","timeout","headers","Content-Type","validateUser","callback","get","Authorization","concat","localStorage","getItem","then","response","data","catch","err","getWaterFlowFromToGrouped","device","from","to","arguments","length","undefined","Date","getTime","token","groupBy","params","group","FETCH_WATERFLOW","FETCH_WATERFLOW_CURRENT","FETCH_WATERFLOW_PAST","fetchWaterFromTo","dispatch","waterflowRequests","resp","console","log","fetchWaterFromToGrouped","fetchMonthWaterFlow","month","type","consumption","monthNames","LineChart","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","currentMonth","getMonth","pastMonth","props","devices","count","fetchData","current","waterflowActions","device_id","getFullYear","current_month","past","nextProps","_this2","map","i","aux","value","past_month","res","v","time","react_default","a","createElement","className","Typography_default","variant","style","textAlign","gutterBottom","es6","width","height","minHeight","margin","top","right","left","bottom","strokeDasharray","dataKey","formatter","name","stroke","PureComponent","jsfiddleUrl","connect","ownProps","waterflow","authentication","bindActionCreators","FETCH_BILLS","fetch_bills","billsRequests","bills","MonthBarChart","handleChange","event","setState","defineProperty","target","user","userOptions","options","Set","forEach","bill","add","username","Array","role","FormControl_default","FormHelperText_default","Select_default","native","label","onChange","id","key","fill","billsActions","Bills","paddingBottom","Paper_default","Table_default","TableHead_default","TableRow_default","TableCell_default","align","TableBody_default","row","component","scope","date","toDateString","import","price","React","Component","FETCH_DEVICES","fetch_alldevices","devicesRequests","Dashboard","prototype","monthDays","getDate","devicesActions","Grid_default","container","direction","justify","alignItems","item","xs","Charts_MonthBarChart_MonthBarChart","Charts_LineChart_LineChart","Dashboard_Bills_Bills","LOG_IN","LOG_OUT","FETCH_USER_INFO","log_in","password","post","authRequests","access_token","setItem","validate_token","log_out","action","Login","email","handleClick","bind","assertThisInitialized","authenticationActions","authenticated","es_Redirect","spacing","md","noValidate","autoComplete","TextField_default","Button_default","color","onClick","PrimaryAppBar","anchorEl","mobileMoreAnchorEl","handleProfileMenuOpen","currentTarget","handleMenuClose","handleMobileMenuClose","handleMobileMenuOpen","history","push","_this$state","classes","isMenuOpen","Boolean","isMobileMenuOpen","renderMenu","Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","open","onClose","MenuItem_default","Link","renderMobileMenu","IconButton_default","Badge_default","badgeContent","Notifications_default","AccountCircle_default","root","AppBar_default","position","Toolbar_default","handleDashboard","grow","sectionDesktop","aria-owns","aria-haspopup","sectionMobile","MoreVert_default","withRouter","withStyles","theme","flexGrow","menuButton","marginLeft","marginRight","title","display","breakpoints","up","inputRoot","inputInput","paddingTop","unit","paddingRight","paddingLeft","transition","transitions","Profile","react","FETCH_ALARMS","getAlarms","Alarms","alarmsActions","Paper_Paper_default","Table_Table_default","TableHead_TableHead_default","TableRow_TableRow_default","TableCell_TableCell_default","TableBody_TableBody_default","alarms","message","timestamp","App","BrowserRouter","MuiThemeProvider_default","components_AppBar_AppBar","Route","path","exact","render","Redirect","PrivateRoute","authed","src","window","location","origin","_ref","rest","objectWithoutProperties","assign","pathname","hostname","match","initialState","rootReducer","combineReducers","objectSpread","store","compose","applyMiddleware","thunk","createStore","reducers","ReactDOM","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e8e67360.chunk.js","sourcesContent":["// src/ui/theme/index.js\n\nimport {createMuiTheme} from '@material-ui/core/styles';\n\nconst palette = {\n    primary: {main: '#455458'},\n    secondary: {main: '#00BCD4'}\n};\nconst themeName = \"River Bed Robin's Egg Blue Mouse\";\n\nexport default createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    }, palette, themeName\n});\n","import axios from 'axios'\n\nlet baseUrl = 'https://iotuserservice.azurewebsites.net';\n\nif (process.env.NODE_ENV === \"production\") {\n    baseUrl = 'https://iotuserservice.azurewebsites.net'\n}\nexport const US = axios.create({\n    baseURL: baseUrl,\n    timeout: 10000,\n    headers: {'Content-Type': 'application/json'}\n});\n\n\n/**\n *  HTTP POST request for login authentication\n *\n * @param username {string}\n * @param password {string}\n * @param callback {function(boolean,{access_token:string})}\n */\nexport const authenticateUser = (username, password, callback) => {\n    US.post('/auth', {\n        username,\n        password\n    })\n        .then(response => {\n            callback(false, response.data)\n        }).catch(err => {\n        callback(true, err)\n    })\n};\n\nexport const validateUser = (callback) => {\n    US.get('/protected', {headers: {Authorization: `JWT ${localStorage.getItem('token')}`}}\n    )\n        .then(response => {\n            callback(false, response.data)\n        }).catch(err => {\n        callback(true, null)\n    })\n};","import {US} from './Authentication'\n\n\n/**\n *  HTTP GET\n *  get waterflow between two dates\n *\n * @param from {string}\n * @param to {string}\n * @param token {string}\n * @param callback {function(boolean,{})}\n */\nexport const getWaterFlowFromTo = (device, from, to = new Date().getTime(), token, callback) => {\n    US.get(`/waterflow/${device}`, {\n        params: {\n            from: from,\n            to: to\n        }, headers: {\n            Authorization: `JWT ${token}`\n        }\n    })\n        .then(response => {\n            callback(false, response.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};\n\n/**\n *  HTTP GET\n *  get waterflow between two dates\n *\n * @param from {string}\n * @param to {string}\n * @param token {string}\n * @param callback {function(boolean,{})}\n */\nexport const getWaterFlowFromToGrouped = (device, from, to = new Date().getTime(), token, groupBy, callback) => {\n    US.get(`/waterflow/${device}`, {\n        params: {\n            from: from,\n            to: to,\n            group: groupBy\n        }, headers: {\n            Authorization: `JWT ${token}`\n        }\n    })\n        .then(response => {\n            callback(false, response.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import * as waterflowRequests from '../requests/Waterflow'\n\nexport const FETCH_WATERFLOW = 'FETCH_WATERFLOW'\nexport const FETCH_WATERFLOW_CURRENT = 'FETCH_WATERFLOW_CURRENT'\nexport const FETCH_WATERFLOW_PAST = 'FETCH_WATERFLOW_PAST'\n\n\nexport const fetchWaterFromTo = (device, from, to, token) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromTo(device, from, to, token, (err, resp) => {\n            console.log(resp)\n        });\n    };\n};\n\nexport const fetchWaterFromToGrouped = (device, from, to, token, group, callback) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromToGrouped(device, from, to, token, group, (err, resp) => {\n            console.log(resp)\n        });\n    };\n};\nexport const fetchMonthWaterFlow = (device, from, to, token, group, month, callback) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromToGrouped(device, from, to, token, group, (err, resp) => {\n            if (!err) {\n                if (month === 'current')\n                    dispatch({\n                        type: FETCH_WATERFLOW_CURRENT,\n                        consumption: resp\n                    });\n                else\n                    dispatch({\n                        type: FETCH_WATERFLOW_PAST,\n                        consumption: resp\n                    })\n            }\n        });\n    };\n};","import React, {PureComponent} from 'react';\nimport {\n    LineChart as ReLineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as waterflowActions from \"../../../actions/waterflow\";\nimport connect from \"react-redux/es/connect/connect\";\nimport * as _ from 'lodash'\n\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n];\n\nclass LineChart extends PureComponent {\n    static jsfiddleUrl = 'https://jsfiddle.net/alidingling/xqjtetw0/';\n\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            currentMonth: new Date().getMonth(),\n            pastMonth: new Date().getMonth() === 0 ? 11 : new Date().getMonth() - 1\n        }\n\n    }\n\n    componentDidMount() {\n\n        if (this.props.devices.count > 0){\n            this.fetchData(this.props.devices.devices[0])\n        }\n    }\n\n    fetchData(device) {\n        let current = new Date();\n\n        this.props.waterflowActions.fetchMonthWaterFlow(\n            device.device_id,\n            new Date(current.getFullYear(), current.getMonth()).getTime(),\n            current.getTime(),\n            this.props.token,\n            '1d',\n            'current'\n        );\n\n        let current_month = current.getMonth();\n        let past = new Date(current_month === 0 ? current.getFullYear() - 1 : current.getFullYear(),\n            current_month === 0 ? 11 : current_month - 1,\n            current_month - 1);\n\n        this.props.waterflowActions.fetchMonthWaterFlow(\n            device.device_id,\n            past.getTime(),\n            new Date(current.getFullYear(), current.getMonth()).getTime(),\n            this.props.token,\n            '1d',\n            'past'\n        )\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.state.data.length === 0) {\n            if (nextProps.current_month.length > 0) {\n                this.state.data = nextProps.current_month.map((data, i) => {\n                    let aux = {};\n                    aux['time'] = i;\n                    aux[monthNames[this.state.currentMonth]] = data.value;\n                    return aux\n                })\n            } else {\n                this.state.data = nextProps.past_month.map((data, i) => {\n                    let aux = {};\n                    aux['time'] = i;\n                    aux[monthNames[this.state.pastMonth]] = data.value;\n                    return aux\n                })\n            }\n        } else {\n            let res = [];\n\n            for (let i = 0; i < nextProps.past_month.length; i++) {\n                let v = 0;\n                if (i >= nextProps.current_month.length)\n                    v = null;\n                else\n                    v = nextProps.current_month[i].value;\n\n                res[i] = {\n                    time: i\n                };\n\n                res[i][monthNames[this.state.currentMonth]] = v;\n                res[i][monthNames[this.state.pastMonth]] = nextProps.past_month[i].value;\n            }\n            this.state.data = res\n        }\n\n        if (this.props.devices.count === 0 && nextProps.devices.count > 0) {\n            this.fetchData(nextProps.devices.devices[0])\n        }\n        return true\n    }\n\n\n    render() {\n        return (\n            <div className={'chart-container'}>\n                <Typography variant=\"h5\" style={{textAlign: 'center'}} gutterBottom>\n                    Current Consumption\n                </Typography>\n                <ResponsiveContainer className={'chart-content'} width=\"80%\" height={280} minHeight={200}>\n                    <ReLineChart\n                        width={500}\n                        height={300}\n                        data={this.state.data}\n                        margin={{\n                            top: 5, right: 30, left: 20, bottom: 5,\n                        }}\n                    >\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\n                        <XAxis dataKey=\"time\"/>\n                        <YAxis/>\n                        <Tooltip\n                            formatter={(value, name, props) => value}/>\n                        <Legend/>\n                        <Line type=\"monotone\" dataKey={monthNames[this.state.currentMonth]} stroke=\"#455559\"/>\n                        <Line type=\"monotone\" dataKey={monthNames[this.state.pastMonth]} stroke=\"#82ca9d\" strokeDasharray=\"5 5\"/>\n                    </ReLineChart>\n                </ResponsiveContainer>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        current_month: state.waterflow.current_month,\n        past_month: state.waterflow.past_month,\n        devices: state.devices,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        waterflowActions: bindActionCreators(waterflowActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LineChart);","import * as billsRequests from '../requests/Bills'\n\nexport const FETCH_BILLS = 'FETCH_BILLS';\n\n\nexport const fetch_bills = (token) => {\n    return (dispatch) => {\n        billsRequests.getBills(token, (err, data) => {\n            if(!err)\n                dispatch({\n                    type: FETCH_BILLS,\n                    bills: data.bills\n                })\n        })\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all bills from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getBills = (token, callback) => {\n    US.get('/bills', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React, {PureComponent} from 'react';\nimport {\n    BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as billsActions from \"../../../actions/Bills\";\nimport connect from \"react-redux/es/connect/connect\";\nimport Select from \"@material-ui/core/Select/Select\";\nimport './MonthBarChart.css'\nimport FormControl from \"@material-ui/core/FormControl/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText/FormHelperText\";\n\nclass MonthBarChart extends PureComponent {\n    static jsfiddleUrl = 'https://jsfiddle.net/alidingling/30763kr7/';\n\n    constructor(props) {\n        super();\n        this.state = {\n            user: '',\n            userOptions: []\n        }\n    }\n\n    handleChange = name => event => {\n        this.setState({[name]: event.target.value});\n    };\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.bills.bills.length > 0) {\n            let options = new Set();\n            nextProps.bills.bills.forEach(bill => {\n                options.add(bill.username)\n            });\n            this.state.userOptions = Array.from(options)\n        }\n        this.state.user = this.state.userOptions[0]\n    }\n\n    render() {\n        const bills = [];\n        this.props.bills.bills.forEach(bill => {\n            if (bill.username === this.state.user)\n                bills[bills.length] = bill\n        });\n        return (\n            <div className={'chart-container'}>\n                <Typography variant=\"h5\" style={{textAlign: 'center'}} gutterBottom>\n                    Consumption History\n                </Typography>\n                {this.props.role === 'admin' && (\n                    <FormControl style={{width: '100%'}}>\n                        <div className={'choose-container'}>\n                            <FormHelperText style={{margin:'5px'}}>Choose user</FormHelperText>\n                            <Select\n                                native\n                                label={'User name'}\n                                value={this.state.user}\n                                onChange={this.handleChange('user')}>\n                                {this.state.userOptions.map((user, id) => {\n                                    return <option value={user} key={id}>{user}</option>\n                                })}\n                            </Select>\n                        </div>\n                    </FormControl>\n                )}\n                <ResponsiveContainer className={'chart-content'} width=\"80%\" height={280} minHeight={200}>\n                    <BarChart\n                        width={500}\n                        height={300}\n                        data={bills}\n                        margin={{\n                            top: 5, right: 30, left: 20, bottom: 5,\n                        }}\n                    >\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\n                        <XAxis dataKey=\"Month\"/>\n                        <YAxis/>\n                        <Tooltip formatter={(value) => `${value} liters`}/>\n                        <Legend/>\n                        <Bar dataKey=\"waterflow\" fill=\"#455559\"/>\n                    </BarChart>\n                </ResponsiveContainer>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        bills: state.bills,\n        role: state.authentication.role,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        billsActions: bindActionCreators(billsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MonthBarChart);","import React from 'react';\nimport './Bills.css';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as billsActions from \"../../../actions/Bills\";\nimport connect from \"react-redux/es/connect/connect\";\n\n\nclass Bills extends React.Component {\n    constructor() {\n        super();\n    }\n\n    componentWillMount() {\n        this.props.billsActions.fetch_bills(this.props.token)\n    }\n\n\n    render() {\n        return (\n            <div className={'bills-container'}>\n                <Typography variant=\"h5\" style={{paddingBottom: '10px'}} gutterBottom>\n                    Billing History\n                </Typography>\n                <Paper>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>User Name</TableCell>\n                                <TableCell align=\"center\">Date</TableCell>\n                                <TableCell align=\"center\">Import (DKK)</TableCell>\n                                <TableCell align=\"center\">Consumption</TableCell>\n                                <TableCell align=\"center\">Price (per liter)</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.props.bills.bills.map((row, id) => (\n                                <TableRow key={id} className={'bills-row'}>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {row.username}\n                                    </TableCell>\n                                    <TableCell align=\"center\">{new Date(row.date).toDateString()}</TableCell>\n                                    <TableCell align=\"center\">{row.import}</TableCell>\n                                    <TableCell align=\"center\">{row.waterflow}</TableCell>\n                                    <TableCell align=\"center\">{row.price}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        bills: state.bills,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        billsActions: bindActionCreators(billsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Bills);","import * as devicesRequests from '../requests/Devices'\n\nexport const FETCH_DEVICES = 'FETCH_DEVICES';\n\n\nexport const fetch_alldevices = (token) => {\n    return (dispatch) => {\n        devicesRequests.getDevices(token, (err, data) => {\n            if (!err) {\n                dispatch({\n                    type: FETCH_DEVICES,\n                    devices: data.devices,\n                    count: data.count\n                })\n            }\n        });\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all devices from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getDevices = (token, callback) => {\n    US.get('/devices', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React from 'react'\nimport LineChart from \"../Charts/LineChart/LineChart\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport './Dashboard.css'\nimport MonthBarChart from \"../Charts/MonthBarChart/MonthBarChart\";\nimport Bills from \"./Bills/Bills\";\nimport {bindActionCreators} from \"redux\";\nimport * as devicesActions from \"../../actions/Devices\";\nimport connect from \"react-redux/es/connect/connect\";\n\nclass Dashboard extends React.Component {\n    constructor() {\n        super()\n    }\n\n    componentWillMount() {\n        Date.prototype.monthDays = function () {\n            let d = new Date(this.getFullYear(), this.getMonth() + 1, 0);\n            return d.getDate();\n        }\n    }\n\n    componentDidMount(){\n        this.props.devicesActions.fetch_alldevices(this.props.token)\n    }\n\n    render() {\n        return (\n            <Grid container\n                  className={'dashboard-container'}\n                  direction=\"row\"\n                  justify=\"center\"\n                  alignItems=\"center\">\n                <Grid item\n                      xs={6}>\n                    <MonthBarChart/>\n                </Grid>\n                <Grid item\n                      xs={6}>\n                    <LineChart/>\n                </Grid>\n                <Grid item\n                      xs={12}>\n                    <Bills/>\n                </Grid>\n            </Grid>\n        )\n    }\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        devicesActions: bindActionCreators(devicesActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","import * as authRequests from '../requests/Authentication'\nimport {FETCH_DEVICES} from './Devices'\n\nexport const LOG_IN = 'LOG_IN';\nexport const LOG_OUT = 'LOG_OUT';\nexport const FETCH_USER_INFO = 'FETCH_USER_INFO';\n\nexport const log_in = (username, password) => {\n    return (dispatch) => {\n        authRequests.authenticateUser(username, password, (err, resp) => {\n            if (!err) {\n                dispatch({\n                    type: LOG_IN,\n                    username,\n                    token: resp.access_token\n                });\n                localStorage.setItem('token', resp.access_token);\n                authRequests.validateUser((err, data) => {\n                    if (!err) {\n                        dispatch({\n                            type: FETCH_USER_INFO,\n                            data\n                        });\n                    }\n                })\n            }\n        });\n    }\n};\n\nexport const validate_token = () => {\n    return (dispatch) => {\n        authRequests.validateUser((err, data) => {\n            if (!err) {\n                dispatch({\n                    type: FETCH_USER_INFO,\n                    data\n                });\n            }\n        })\n    }\n};\n\nexport const log_out = () => {\n    const action = {\n        type: LOG_OUT,\n    };\n    return (dispatch) => {\n        dispatch(action)\n    }\n};","import React from 'react'\nimport * as authenticationActions from '../../actions/Authentication'\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport './Login.css'\n\n\nclass Login extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: ''\n        };\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick() {\n        this.props.authenticationActions.log_in(this.state.email, this.state.password)\n    }\n\n    handleChange = name => event => {\n        this.setState({[name]: event.target.value});\n    };\n\n    render() {\n        if (this.props.authentication.authenticated)\n            return (<Redirect to={'/dashboard'}/>);\n        else\n            return (<Grid container spacing={0}\n                          direction=\"column\"\n                          justify=\"space-between\"\n                          alignItems=\"center\">\n                <Grid item\n                      className={'login-form-container'}\n                      xs={8}\n                      md={6}>\n                    <form className={'login-form-content'} noValidate autoComplete=\"off\">\n                        <TextField\n                            id=\"standard-name\"\n                            label=\"Email\"\n                            value={this.state.email}\n                            onChange={this.handleChange('email')}\n                            margin=\"normal\"\n                        />\n\n                        <TextField\n                            id=\"standard-uncontrolled\"\n                            label=\"password\"\n                            margin=\"normal\"\n                            type=\"password\"\n                            value={this.state.password}\n                            onChange={this.handleChange('password')}\n                        />\n                        <Button variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.handleClick}>Log in</Button>\n                    </form>\n                </Grid>\n            </Grid>)\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        authenticationActions: bindActionCreators(authenticationActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withRouter } from 'react-router-dom';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport {withStyles} from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport './AppBar.css';\n\nimport {connect} from \"react-redux\";\nimport {Link} from 'react-router-dom'\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginLeft: -12,\n        marginRight: 20,\n    },\n    title: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            display: 'block',\n        },\n    },\n    inputRoot: {\n        color: 'inherit',\n        width: '100%',\n    },\n    inputInput: {\n        paddingTop: theme.spacing.unit,\n        paddingRight: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: theme.spacing.unit * 10,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n            width: 200,\n        },\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n});\n\nclass PrimaryAppBar extends React.Component {\n    state = {\n        anchorEl: null,\n        mobileMoreAnchorEl: null,\n    };\n\n    handleProfileMenuOpen = event => {\n        this.setState({anchorEl: event.currentTarget});\n    };\n\n    handleMenuClose = () => {\n        this.setState({anchorEl: null});\n        this.handleMobileMenuClose();\n\n    };\n\n    handleMobileMenuOpen = event => {\n        this.setState({mobileMoreAnchorEl: event.currentTarget});\n    };\n\n    handleMobileMenuClose = () => {\n        this.setState({mobileMoreAnchorEl: null});\n    };\n\n    handleDashboard(){\n        this.props.history.push('/dashboard');\n    }\n    render() {\n\n        const {anchorEl, mobileMoreAnchorEl} = this.state;\n        const {classes} = this.props;\n        const isMenuOpen = Boolean(anchorEl);\n        const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n        const renderMenu = (\n            <Menu\n                anchorEl={anchorEl}\n                anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n                transformOrigin={{vertical: 'top', horizontal: 'right'}}\n                open={isMenuOpen}\n                onClose={this.handleMenuClose}>\n                <MenuItem\n                    component={Link} to=\"/profile\"\n                    onClick={this.handleMenuClose}>\n                    Profile\n                </MenuItem>\n                <MenuItem\n                    onClick={this.handleMenuClose}\n                    component={Link} to=\"/bills\">\n                    My bills\n                </MenuItem>\n            </Menu>\n        );\n\n        const renderMobileMenu = (\n            <Menu\n                anchorEl={mobileMoreAnchorEl}\n                anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n                transformOrigin={{vertical: 'top', horizontal: 'right'}}\n                open={isMobileMenuOpen}\n                onClose={this.handleMenuClose}>\n                <MenuItem onClick={this.handleMobileMenuClose}>\n                    <IconButton color=\"inherit\">\n                        <Badge badgeContent={11} color=\"secondary\">\n                            <NotificationsIcon/>\n                        </Badge>\n                    </IconButton>\n                    <p>Notifications</p>\n                </MenuItem>\n                <MenuItem onClick={this.handleProfileMenuOpen}>\n                    <IconButton color=\"inherit\">\n                        <AccountCircle/>\n                    </IconButton>\n                    <p>Profile</p>\n                </MenuItem>\n            </Menu>\n        );\n\n        return (\n            <div className={classes.root}>\n                <AppBar position=\"static\"  >\n                    <Toolbar>\n                        <div className={'app-logo-container'}>\n                            <div  onClick={this.handleDashboard.bind(this)} className=\"btn btn-one\">\n                                <span>Water Flow</span>\n                            </div>\n                        </div>\n                        <div className={classes.grow}/>\n                        {this.props.authentication.authenticated && (\n                            <div>\n\n                                <div className={classes.sectionDesktop}>\n                                    <IconButton color=\"inherit\"\n                                                component={Link} to=\"/notifications\">\n                                        <Badge color=\"secondary\">\n                                            <NotificationsIcon/>\n                                        </Badge>\n                                    </IconButton>\n                                    <IconButton\n                                        aria-owns={isMenuOpen ? 'material-appbar' : undefined}\n                                        aria-haspopup=\"true\"\n                                        onClick={this.handleProfileMenuOpen}\n                                        color=\"inherit\">\n                                        <AccountCircle/>\n                                    </IconButton>\n                                </div>\n                                <div className={classes.sectionMobile}>\n                                    <IconButton aria-haspopup=\"true\" onClick={this.handleMobileMenuOpen}\n                                                color=\"inherit\">\n                                        <MoreIcon/>\n                                    </IconButton>\n                                </div>\n                            </div>\n                        )}\n                    </Toolbar>\n                </AppBar>\n                {renderMenu}\n                {renderMobileMenu}\n            </div>\n        );\n    }\n}\n\nPrimaryAppBar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(withStyles(styles)(PrimaryAppBar)))","import * as React from \"react\";\nimport './Profile.css'\n\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n    render() {\n        return (\n            <div>\n                Profile\n            </div>\n        )\n    }\n\n}\n\n\nexport default Profile","import * as alarmActions from '../requests/Alarms'\n\nexport const FETCH_ALARMS = 'FETCH_ALARMS';\n\nexport const getAlarms = () => {\n    return (dispatch) => {\n        alarmActions.getAlarms(localStorage.getItem('token'), (err, data) => {\n            if (!err) {\n                dispatch({\n                    type: FETCH_ALARMS,\n                    data\n                })\n            }\n        })\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all bills from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getAlarms = (token, callback) => {\n    US.get('/alarms', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React from 'react';\nimport './Alarms.css';\nimport {bindActionCreators} from \"redux\";\nimport * as alarmsActions from \"../../../actions/Alarms\";\nimport connect from \"react-redux/es/connect/connect\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport Paper from \"@material-ui/core/Paper/Paper\";\nimport Table from \"@material-ui/core/Table/Table\";\nimport TableHead from \"@material-ui/core/TableHead/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody/TableBody\";\n\nclass Alarms extends React.Component {\n    constructor() {\n        super();\n    }\n\n    componentWillMount() {\n        this.props.alarmsActions.getAlarms()\n    }\n\n    render() {\n        return (\n            <div className={'alarms-container'}>\n                <Typography variant=\"h5\" style={{paddingBottom: '10px'}} gutterBottom>\n                    Alarms History\n                </Typography>\n                <Paper>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Device Id</TableCell>\n                                <TableCell align=\"right\" style={{textAlign: 'center'}}>Notification</TableCell>\n                                <TableCell align=\"right\">Time</TableCell>\n                                <TableCell align=\"right\">Value</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.props.alarms.alarms.map((row, id) => (\n                                <TableRow key={id} className={'alarm-row'}>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {row.device_id}\n                                    </TableCell>\n                                    <TableCell align=\"right\">{row.message}</TableCell>\n                                    <TableCell align=\"right\">{row.timestamp}</TableCell>\n                                    <TableCell align=\"right\">{row.value}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        alarms: state.alarms,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        alarmsActions: bindActionCreators(alarmsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Alarms);","import React from \"react\";\nimport {\n    BrowserRouter as Router,\n    Route,\n    Link,\n    Redirect,\n    withRouter\n} from \"react-router-dom\";\nimport theme from './theme'\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport Dashboard from \"./components/Dashboard/Dashboard\";\nimport {bindActionCreators} from \"redux\";\nimport * as authenticationActions from \"./actions/Authentication\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport MenuAppBar from \"./components/AppBar/AppBar\";\nimport './App.css'\nimport Profile from \"./components/Dashboard/Profile/Profile\";\nimport Bills from \"./components/Dashboard/Bills/Bills\";\nimport Alarms from \"./components/Dashboard/Alarms/Alarms\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n    componentWillMount(){\n        this.props.authenticationActions.validate_token();\n    }\n\n    render() {\n        return (\n            <Router>\n                <MuiThemeProvider theme={theme}>\n                    <MenuAppBar/>\n                    <Route path='/' exact render={() => (<Redirect to={'/login'}/>)}/>\n                    <Route path='/login' component={Login}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/dashboard'\n                                  component={Dashboard}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/profile'\n                                   component={Profile}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/bills'\n                                  component={Bills}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/notifications'\n                                  component={Alarms}/>\n                    <img src={window.location.origin +'/Logo_IT_University_of_Copenhagen.jpg'}  className={'image-responsive itu-logo'}/>\n                </MuiThemeProvider>\n            </Router>)\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        authenticationActions: bindActionCreators(authenticationActions, dispatch)\n    }\n};\n\n\nfunction PrivateRoute({component: Component, authed, ...rest}) {\n    return (\n        <Route\n            {...rest}\n            render={(props) => authed === true\n                ? <Component {...props} />\n                : <Redirect to={{pathname: '/login', state: {from: props.location}}}/>}\n        />\n    )\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\n    LOG_IN,\n    LOG_OUT,\n    FETCH_USER_INFO\n} from '../actions/Authentication'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    username: '',\n    password: '',\n    role: 'user',\n    authenticated: false,\n    token: localStorage.getItem('token')\n};\n\nexport default function authentication(state = initialState, action) {\n    switch (action.type) {\n        case LOG_IN:\n            return {\n                ...state,\n                username: action.username,\n                token: action.token,\n                authenticated: true\n            };\n        case LOG_OUT:\n            return {\n                ...state,\n                authenticated: false\n\n            };\n        case FETCH_USER_INFO:\n            return {\n                ...state,\n                authenticated: true,\n                username: action.data.username,\n                role: action.data.role,\n            };\n\n        default:\n            return state\n    }\n}","import {\n    FETCH_BILLS\n} from '../actions/Bills'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\n\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n];\n\nconst initialState = {\n    bills: [],\n};\n\nexport default function bills(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_BILLS:\n            let aux = action.bills.map(bill => {\n                bill['Month'] = monthNames[new Date(bill.date).getMonth()];\n                return bill\n            });\n            return {\n                ...state,\n                bills: aux,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_WATERFLOW,\n    FETCH_WATERFLOW_CURRENT,\n    FETCH_WATERFLOW_PAST\n} from '../actions/waterflow'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    consumption: [],\n    current_month: [],\n    past_month: []\n};\n\nexport default function waterflow(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_WATERFLOW:\n            return {\n                ...state,\n                consumption: action.consumption,\n            };\n        case FETCH_WATERFLOW_PAST:\n            return {\n                ...state,\n                past_month: action.consumption,\n            };\n        case FETCH_WATERFLOW_CURRENT:\n            return {\n                ...state,\n                current_month: action.consumption,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_DEVICES\n} from '../actions/Devices'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    devices: [],\n    count: 0\n};\n\nexport default function devices(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_DEVICES:\n            return {\n                ...state,\n                devices: action.devices,\n                count: action.count,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_ALARMS\n} from '../actions/Alarms'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    alarms: [],\n};\n\nexport default function authentication(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_ALARMS:\n            return {\n                ...state,\n                alarms: action.data,\n            };\n        default:\n            return state\n    }\n}","import authentication from './Authentication'\nimport bills from './Bills'\nimport waterflow from './waterflow'\nimport devices from './Devices'\nimport alarms from './Alarms'\nimport {combineReducers} from \"redux\";\n\nconst rootReducer = combineReducers({\n    authentication,\n    bills,\n    waterflow,\n    devices,\n    alarms\n});\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport reducers from './reducers'\nimport {applyMiddleware, createStore, compose} from \"redux\";\nimport {Provider} from \"react-redux\";\nimport thunk from 'redux-thunk'\n\nconst store = compose(applyMiddleware(thunk))(createStore)(reducers);\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}