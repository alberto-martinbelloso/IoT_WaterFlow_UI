{"version":3,"sources":["theme.js","requests/Authentication.js","requests/Waterflow.js","actions/waterflow.js","components/Charts/LineChart/LineChart.js","actions/Bills.js","requests/Bills.js","components/Charts/MonthBarChart/MonthBarChart.js","components/Dashboard/Bills/Bills.js","actions/Devices.js","requests/Devices.js","components/Dashboard/Dashboard.js","actions/Authentication.js","components/Login/Login.js","components/AppBar/AppBar.js","components/Dashboard/Profile/Profile.js","actions/Alarms.js","requests/Alarms.js","components/Dashboard/Alarms/Alarms.js","App.js","serviceWorker.js","reducers/Authentication.js","reducers/Bills.js","reducers/waterflow.js","reducers/Devices.js","reducers/Alarms.js","reducers/index.js","index.js"],"names":["createMuiTheme","typography","useNextVariants","palette","primary","main","secondary","themeName","baseUrl","US","axios","create","baseURL","timeout","headers","Content-Type","getWaterFlowFromToGrouped","device","from","to","arguments","length","undefined","Date","getTime","token","groupBy","callback","get","concat","params","group","Authorization","then","response","data","catch","err","FETCH_WATERFLOW","FETCH_WATERFLOW_CURRENT","FETCH_WATERFLOW_PAST","fetchWaterFromTo","dispatch","console","log","waterflowRequests","resp","fetchWaterFromToGrouped","fetchMonthWaterFlow","month","type","consumption","monthNames","LineChart","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","currentMonth","getMonth","pastMonth","props","devices","count","fetchData","current","waterflowActions","device_id","getFullYear","current_month","past","nextProps","_this2","map","i","aux","value","past_month","res","v","time","react_default","a","createElement","className","Typography_default","variant","style","textAlign","gutterBottom","es6","width","height","minHeight","margin","top","right","left","bottom","strokeDasharray","dataKey","formatter","name","stroke","PureComponent","jsfiddleUrl","connect","ownProps","waterflow","authentication","bindActionCreators","FETCH_BILLS","fetch_bills","billsRequests","bills","MonthBarChart","fill","billsActions","Bills","paddingBottom","Paper_default","Table_default","TableHead_default","TableRow_default","TableCell_default","align","TableBody_default","row","id","key","component","scope","date","import","price","React","Component","FETCH_DEVICES","fetch_alldevices","devicesRequests","Dashboard","prototype","monthDays","getDate","devicesActions","Grid_default","container","direction","justify","alignItems","item","xs","Charts_MonthBarChart_MonthBarChart","Charts_LineChart_LineChart","Dashboard_Bills_Bills","LOG_IN","LOG_OUT","log_in","username","password","post","authRequests","access_token","localStorage","setItem","validate_token","getItem","log_out","action","Login","handleChange","event","setState","defineProperty","target","email","handleClick","bind","assertThisInitialized","authenticationActions","authenticated","es_Redirect","spacing","md","noValidate","autoComplete","TextField_default","label","onChange","Button_default","color","onClick","PrimaryAppBar","anchorEl","mobileMoreAnchorEl","handleProfileMenuOpen","currentTarget","handleMenuClose","handleMobileMenuClose","handleMobileMenuOpen","history","push","_this$state","classes","isMenuOpen","Boolean","isMobileMenuOpen","renderMenu","Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","open","onClose","MenuItem_default","Link","renderMobileMenu","IconButton_default","Badge_default","badgeContent","Notifications_default","AccountCircle_default","root","AppBar_default","position","Toolbar_default","handleDashboard","grow","sectionDesktop","aria-owns","aria-haspopup","sectionMobile","MoreVert_default","withRouter","withStyles","theme","flexGrow","menuButton","marginLeft","marginRight","title","display","breakpoints","up","inputRoot","inputInput","paddingTop","unit","paddingRight","paddingLeft","transition","transitions","Profile","react","FETCH_ALARMS","getAlarms","Alarms","alarmsActions","Paper_Paper_default","Table_Table_default","TableHead_TableHead_default","TableRow_TableRow_default","TableCell_TableCell_default","TableBody_TableBody_default","alarms","message","timestamp","App","BrowserRouter","MuiThemeProvider_default","components_AppBar_AppBar","Route","path","exact","render","Redirect","PrivateRoute","authed","src","window","location","origin","_ref","rest","objectWithoutProperties","assign","pathname","hostname","match","initialState","rootReducer","combineReducers","objectSpread","bill","store","compose","applyMiddleware","thunk","createStore","reducers","ReactDOM","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c68a2e5a.chunk.js","sourcesContent":["// src/ui/theme/index.js\n\nimport {createMuiTheme} from '@material-ui/core/styles';\n\nconst palette = {\n    primary: {main: '#455458'},\n    secondary: {main: '#00BCD4'}\n};\nconst themeName = \"River Bed Robin's Egg Blue Mouse\";\n\nexport default createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    }, palette, themeName\n});\n","import axios from 'axios'\n\nlet baseUrl = '';\n\nif (process.env.NODE_ENV === \"production\") {\n    baseUrl = 'https://iotuserservice.azurewebsites.net'\n}\nexport const US = axios.create({\n    baseURL: baseUrl,\n    timeout: 10000,\n    headers: {'Content-Type': 'application/json'}\n});\n\n\n/**\n *  HTTP POST request for login authentication\n *\n * @param username {string}\n * @param password {string}\n * @param callback {function(boolean,{access_token:string})}\n */\nexport const authenticateUser = (username, password, callback) => {\n    US.post('/auth', {\n        username,\n        password\n    })\n        .then(response => {\n            callback(false, response.data)\n        }).catch(err => {\n        callback(true, err)\n    })\n};\n\nexport const validateUser = (callback) => {\n    US.get('/protected', {headers: {Authorization: `JWT ${localStorage.getItem('token')}`}}\n    )\n        .then(response => {\n            callback(false)\n        }).catch(err => {\n        callback(true)\n    })\n};","import {US} from './Authentication'\n\n\n/**\n *  HTTP GET\n *  get waterflow between two dates\n *\n * @param from {string}\n * @param to {string}\n * @param token {string}\n * @param callback {function(boolean,{})}\n */\nexport const getWaterFlowFromTo = (device, from, to = new Date().getTime(), token, callback) => {\n    console.log(token)\n    US.get(`/waterflow/${device}`, {\n        params: {\n            from: from,\n            to: to\n        }, headers: {\n            Authorization: `JWT ${token}`\n        }\n    })\n        .then(response => {\n            callback(false, response.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};\n\n/**\n *  HTTP GET\n *  get waterflow between two dates\n *\n * @param from {string}\n * @param to {string}\n * @param token {string}\n * @param callback {function(boolean,{})}\n */\nexport const getWaterFlowFromToGrouped = (device, from, to = new Date().getTime(), token, groupBy, callback) => {\n    US.get(`/waterflow/${device}`, {\n        params: {\n            from: from,\n            to: to,\n            group: groupBy\n        }, headers: {\n            Authorization: `JWT ${token}`\n        }\n    })\n        .then(response => {\n            callback(false, response.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import * as waterflowRequests from '../requests/Waterflow'\n\nexport const FETCH_WATERFLOW = 'FETCH_WATERFLOW'\nexport const FETCH_WATERFLOW_CURRENT = 'FETCH_WATERFLOW_CURRENT'\nexport const FETCH_WATERFLOW_PAST = 'FETCH_WATERFLOW_PAST'\n\n\nexport const fetchWaterFromTo = (device, from, to, token) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromTo(device, from, to, token, (err, resp) => {\n            console.log(resp)\n        });\n    };\n};\n\nexport const fetchWaterFromToGrouped = (device, from, to, token, group, callback) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromToGrouped(device, from, to, token, group, (err, resp) => {\n            console.log(resp)\n        });\n    };\n};\nexport const fetchMonthWaterFlow = (device, from, to, token, group, month, callback) => {\n    return (dispatch) => {\n        waterflowRequests.getWaterFlowFromToGrouped(device, from, to, token, group, (err, resp) => {\n            if (!err) {\n                if (month === 'current')\n                    dispatch({\n                        type: FETCH_WATERFLOW_CURRENT,\n                        consumption: resp\n                    });\n                else\n                    dispatch({\n                        type: FETCH_WATERFLOW_PAST,\n                        consumption: resp\n                    })\n            }\n        });\n    };\n};","import React, {PureComponent} from 'react';\nimport {\n    LineChart as ReLineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as waterflowActions from \"../../../actions/waterflow\";\nimport connect from \"react-redux/es/connect/connect\";\nimport * as _ from 'lodash'\n\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n];\n\nclass LineChart extends PureComponent {\n    static jsfiddleUrl = 'https://jsfiddle.net/alidingling/xqjtetw0/';\n\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            currentMonth: new Date().getMonth(),\n            pastMonth: new Date().getMonth() === 0 ? 11 : new Date().getMonth() - 1\n        }\n\n    }\n\n    componentDidMount() {\n\n        if (this.props.devices.count > 0)\n            this.fetchData(this.props.devices.devices[0])\n    }\n\n    fetchData(device) {\n        let current = new Date();\n\n        this.props.waterflowActions.fetchMonthWaterFlow(\n            device.device_id,\n            new Date(current.getFullYear(), current.getMonth()).getTime(),\n            current.getTime(),\n            this.props.token,\n            '1d',\n            'current'\n        );\n\n        let current_month = current.getMonth();\n        let past = new Date(current_month === 0 ? current.getFullYear() - 1 : current.getFullYear(),\n            current_month === 0 ? 11 : current_month - 1,\n            current_month - 1);\n\n        this.props.waterflowActions.fetchMonthWaterFlow(\n            device.device_id,\n            past.getTime(),\n            new Date(current.getFullYear(), current.getMonth()).getTime(),\n            this.props.token,\n            '1d',\n            'past'\n        )\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.state.data.length === 0) {\n            if (nextProps.current_month.length > 0) {\n                this.state.data = nextProps.current_month.map((data, i) => {\n                    let aux = {};\n                    aux['time'] = i;\n                    aux[monthNames[this.state.currentMonth]] = data.value;\n                    return aux\n                })\n            } else {\n                this.state.data = nextProps.past_month.map((data, i) => {\n                    let aux = {};\n                    aux['time'] = i;\n                    aux[monthNames[this.state.pastMonth]] = data.value;\n                    return aux\n                })\n            }\n        } else {\n            let res = [];\n\n            for (let i = 0; i < nextProps.past_month.length; i++) {\n                let v = 0;\n                if (i >= nextProps.current_month.length)\n                    v = null;\n                else\n                    v = nextProps.current_month[i].value;\n\n                res[i] = {\n                    time: i\n                };\n\n                res[i][monthNames[this.state.currentMonth]] = v;\n                res[i][monthNames[this.state.pastMonth]] = nextProps.past_month[i].value;\n            }\n            this.state.data = res\n        }\n\n        if (this.props.devices.count === 0 && nextProps.devices.count > 0) {\n            this.fetchData(nextProps.devices.devices[0])\n        }\n        return true\n    }\n\n\n    render() {\n        return (\n            <div className={'chart-container'}>\n                <Typography variant=\"h5\" style={{textAlign: 'center'}} gutterBottom>\n                    Current Consumption\n                </Typography>\n                <ResponsiveContainer className={'chart-content'} width=\"80%\" height={280} minHeight={200}>\n                    <ReLineChart\n                        width={500}\n                        height={300}\n                        data={this.state.data}\n                        margin={{\n                            top: 5, right: 30, left: 20, bottom: 5,\n                        }}\n                    >\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\n                        <XAxis dataKey=\"time\"/>\n                        <YAxis/>\n                        <Tooltip\n                            formatter={(value, name, props) => value}/>\n                        <Legend/>\n                        <Line type=\"monotone\" dataKey={monthNames[this.state.currentMonth]} stroke=\"#455559\"/>\n                        <Line type=\"monotone\" dataKey={monthNames[this.state.pastMonth]} stroke=\"#82ca9d\" strokeDasharray=\"5 5\"/>\n                    </ReLineChart>\n                </ResponsiveContainer>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        current_month: state.waterflow.current_month,\n        past_month: state.waterflow.past_month,\n        devices: state.devices,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        waterflowActions: bindActionCreators(waterflowActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LineChart);","import * as billsRequests from '../requests/Bills'\n\nexport const FETCH_BILLS = 'FETCH_BILLS';\n\n\nexport const fetch_bills = (token) => {\n    return (dispatch) => {\n        billsRequests.getBills(token, (err, data) => {\n            if(!err)\n                dispatch({\n                    type: FETCH_BILLS,\n                    bills: data.bills\n                })\n        })\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all bills from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getBills = (token, callback) => {\n    US.get('/bills', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React, {PureComponent} from 'react';\nimport {\n    BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as billsActions from \"../../../actions/Bills\";\nimport connect from \"react-redux/es/connect/connect\";\n\n\nclass MonthBarChart extends PureComponent {\n    static jsfiddleUrl = 'https://jsfiddle.net/alidingling/30763kr7/';\n\n    constructor(props) {\n        super();\n    }\n\n\n    render() {\n        return (\n            <div className={'chart-container'}>\n                <Typography variant=\"h5\" style={{textAlign: 'center'}} gutterBottom>\n                    Month Bills\n                </Typography>\n                <ResponsiveContainer className={'chart-content'} width=\"80%\" height={280} minHeight={200}>\n                    <BarChart\n                        width={500}\n                        height={300}\n                        data={this.props.bills.bills}\n                        margin={{\n                            top: 5, right: 30, left: 20, bottom: 5,\n                        }}\n                    >\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\n                        <XAxis dataKey=\"Month\"/>\n                        <YAxis/>\n                        <Tooltip formatter={(value) => `${value} DKK`}/>\n                        <Legend/>\n                        <Bar dataKey=\"import\" fill=\"#455559\"/>\n                    </BarChart>\n                </ResponsiveContainer>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        bills: state.bills,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        billsActions: bindActionCreators(billsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MonthBarChart);","import React from 'react';\nimport './Bills.css';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport {bindActionCreators} from \"redux\";\nimport * as billsActions from \"../../../actions/Bills\";\nimport connect from \"react-redux/es/connect/connect\";\n\n\nclass Bills extends React.Component {\n    constructor() {\n        super();\n    }\n\n    componentWillMount() {\n        this.props.billsActions.fetch_bills(this.props.token)\n    }\n\n\n    render() {\n        return (\n            <div className={'bills-container'}>\n                <Typography variant=\"h5\" style={{paddingBottom: '10px'}} gutterBottom>\n                    Billing History\n                </Typography>\n                <Paper>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Bills</TableCell>\n                                <TableCell align=\"right\">Date</TableCell>\n                                <TableCell align=\"right\">Import (DKK)</TableCell>\n                                <TableCell align=\"right\">Consumption</TableCell>\n                                <TableCell align=\"right\">Price (per liter)</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.props.bills.bills.map((row, id) => (\n                                <TableRow key={id} className={'bills-row'}>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {id}\n                                    </TableCell>\n                                    <TableCell align=\"right\">{row.date}</TableCell>\n                                    <TableCell align=\"right\">{row.import}</TableCell>\n                                    <TableCell align=\"right\">{row.waterflow}</TableCell>\n                                    <TableCell align=\"right\">{row.price}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        bills: state.bills,\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        billsActions: bindActionCreators(billsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Bills);","import * as devicesRequests from '../requests/Devices'\n\nexport const FETCH_DEVICES = 'FETCH_DEVICES';\n\n\nexport const fetch_alldevices = (token) => {\n    return (dispatch) => {\n        devicesRequests.getDevices(token, (err, data) => {\n            if (!err) {\n                dispatch({\n                    type: FETCH_DEVICES,\n                    devices: data.devices,\n                    count: data.count\n                })\n            }\n        });\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all devices from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getDevices = (token, callback) => {\n    US.get('/devices', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React from 'react'\nimport LineChart from \"../Charts/LineChart/LineChart\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport './Dashboard.css'\nimport MonthBarChart from \"../Charts/MonthBarChart/MonthBarChart\";\nimport Bills from \"./Bills/Bills\";\nimport {bindActionCreators} from \"redux\";\nimport * as devicesActions from \"../../actions/Devices\";\nimport connect from \"react-redux/es/connect/connect\";\n\nclass Dashboard extends React.Component {\n    constructor() {\n        super()\n    }\n\n    componentWillMount() {\n        Date.prototype.monthDays = function () {\n            let d = new Date(this.getFullYear(), this.getMonth() + 1, 0);\n            return d.getDate();\n        }\n    }\n\n    componentDidMount(){\n        this.props.devicesActions.fetch_alldevices(this.props.token)\n    }\n\n    render() {\n        return (\n            <Grid container\n                  className={'dashboard-container'}\n                  direction=\"row\"\n                  justify=\"center\"\n                  alignItems=\"center\">\n                <Grid item\n                      xs={6}>\n                    <MonthBarChart/>\n                </Grid>\n                <Grid item\n                      xs={6}>\n                    <LineChart/>\n                </Grid>\n                <Grid item\n                      xs={12}>\n                    <Bills/>\n                </Grid>\n            </Grid>\n        )\n    }\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        token: state.authentication.token,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        devicesActions: bindActionCreators(devicesActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","import * as authRequests from '../requests/Authentication'\n\nexport const LOG_IN = 'LOG_IN';\nexport const LOG_OUT = 'LOG_OUT';\n\nexport const log_in = (username, password) => {\n    return (dispatch) => {\n        authRequests.authenticateUser(username, password, (err, resp) => {\n            if (!err) {\n                dispatch({\n                    type: LOG_IN,\n                    username,\n                    password,\n                    token: resp.access_token\n                });\n                localStorage.setItem('token', resp.access_token);\n            }\n        });\n    }\n};\n\nexport const validate_token = () => {\n    return (dispatch) => {\n        authRequests.validateUser((err) => {\n            if (!err) {\n                dispatch({\n                    type: LOG_IN,\n                    token: localStorage.getItem('token')\n                });\n            }\n        })\n    }\n};\n\nexport const log_out = () => {\n    const action = {\n        type: LOG_OUT,\n    };\n    return (dispatch) => {\n        dispatch(action)\n    }\n};","import React from 'react'\nimport * as authenticationActions from '../../actions/Authentication'\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport './Login.css'\n\n\nclass Login extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: ''\n        };\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick() {\n        this.props.authenticationActions.log_in(this.state.email, this.state.password)\n    }\n\n    handleChange = name => event => {\n        this.setState({[name]: event.target.value});\n    };\n\n    render() {\n        if (this.props.authentication.authenticated)\n            return (<Redirect to={'/dashboard'}/>);\n        else\n            return (<Grid container spacing={0}\n                          direction=\"column\"\n                          justify=\"space-between\"\n                          alignItems=\"center\">\n                <Grid item\n                      className={'login-form-container'}\n                      xs={8}\n                      md={6}>\n                    <form className={'login-form-content'} noValidate autoComplete=\"off\">\n                        <TextField\n                            id=\"standard-name\"\n                            label=\"Email\"\n                            value={this.state.email}\n                            onChange={this.handleChange('email')}\n                            margin=\"normal\"\n                        />\n\n                        <TextField\n                            id=\"standard-uncontrolled\"\n                            label=\"password\"\n                            margin=\"normal\"\n                            type=\"password\"\n                            value={this.state.password}\n                            onChange={this.handleChange('password')}\n                        />\n                        <Button variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.handleClick}>Log in</Button>\n                    </form>\n                </Grid>\n            </Grid>)\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        authenticationActions: bindActionCreators(authenticationActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withRouter } from 'react-router-dom';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport {withStyles} from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport './AppBar.css';\n\nimport {connect} from \"react-redux\";\nimport {Link} from 'react-router-dom'\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginLeft: -12,\n        marginRight: 20,\n    },\n    title: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            display: 'block',\n        },\n    },\n    inputRoot: {\n        color: 'inherit',\n        width: '100%',\n    },\n    inputInput: {\n        paddingTop: theme.spacing.unit,\n        paddingRight: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: theme.spacing.unit * 10,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n            width: 200,\n        },\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n});\n\nclass PrimaryAppBar extends React.Component {\n    state = {\n        anchorEl: null,\n        mobileMoreAnchorEl: null,\n    };\n\n    handleProfileMenuOpen = event => {\n        this.setState({anchorEl: event.currentTarget});\n    };\n\n    handleMenuClose = () => {\n        this.setState({anchorEl: null});\n        this.handleMobileMenuClose();\n\n    };\n\n    handleMobileMenuOpen = event => {\n        this.setState({mobileMoreAnchorEl: event.currentTarget});\n    };\n\n    handleMobileMenuClose = () => {\n        this.setState({mobileMoreAnchorEl: null});\n    };\n\n    handleDashboard(){\n        this.props.history.push('/dashboard');\n    }\n    render() {\n\n        const {anchorEl, mobileMoreAnchorEl} = this.state;\n        const {classes} = this.props;\n        const isMenuOpen = Boolean(anchorEl);\n        const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n        const renderMenu = (\n            <Menu\n                anchorEl={anchorEl}\n                anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n                transformOrigin={{vertical: 'top', horizontal: 'right'}}\n                open={isMenuOpen}\n                onClose={this.handleMenuClose}>\n                <MenuItem\n                    component={Link} to=\"/profile\"\n                    onClick={this.handleMenuClose}>\n                    Profile\n                </MenuItem>\n                <MenuItem\n                    onClick={this.handleMenuClose}\n                    component={Link} to=\"/bills\">\n                    My bills\n                </MenuItem>\n            </Menu>\n        );\n\n        const renderMobileMenu = (\n            <Menu\n                anchorEl={mobileMoreAnchorEl}\n                anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n                transformOrigin={{vertical: 'top', horizontal: 'right'}}\n                open={isMobileMenuOpen}\n                onClose={this.handleMenuClose}>\n                <MenuItem onClick={this.handleMobileMenuClose}>\n                    <IconButton color=\"inherit\">\n                        <Badge badgeContent={11} color=\"secondary\">\n                            <NotificationsIcon/>\n                        </Badge>\n                    </IconButton>\n                    <p>Notifications</p>\n                </MenuItem>\n                <MenuItem onClick={this.handleProfileMenuOpen}>\n                    <IconButton color=\"inherit\">\n                        <AccountCircle/>\n                    </IconButton>\n                    <p>Profile</p>\n                </MenuItem>\n            </Menu>\n        );\n\n        return (\n            <div className={classes.root}>\n                <AppBar position=\"static\"  >\n                    <Toolbar>\n                        <div className={'app-logo-container'}>\n                            <div  onClick={this.handleDashboard.bind(this)} className=\"btn btn-one\">\n                                <span>Water Flow</span>\n                            </div>\n                        </div>\n                        <div className={classes.grow}/>\n                        {this.props.authentication.authenticated && (\n                            <div>\n\n                                <div className={classes.sectionDesktop}>\n                                    <IconButton color=\"inherit\"\n                                                component={Link} to=\"/notifications\">\n                                        <Badge color=\"secondary\">\n                                            <NotificationsIcon/>\n                                        </Badge>\n                                    </IconButton>\n                                    <IconButton\n                                        aria-owns={isMenuOpen ? 'material-appbar' : undefined}\n                                        aria-haspopup=\"true\"\n                                        onClick={this.handleProfileMenuOpen}\n                                        color=\"inherit\">\n                                        <AccountCircle/>\n                                    </IconButton>\n                                </div>\n                                <div className={classes.sectionMobile}>\n                                    <IconButton aria-haspopup=\"true\" onClick={this.handleMobileMenuOpen}\n                                                color=\"inherit\">\n                                        <MoreIcon/>\n                                    </IconButton>\n                                </div>\n                            </div>\n                        )}\n                    </Toolbar>\n                </AppBar>\n                {renderMenu}\n                {renderMobileMenu}\n            </div>\n        );\n    }\n}\n\nPrimaryAppBar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(withStyles(styles)(PrimaryAppBar)))","import * as React from \"react\";\nimport './Profile.css'\n\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n    render() {\n        return (\n            <div>\n                Profile\n            </div>\n        )\n    }\n\n}\n\n\nexport default Profile","import * as alarmActions from '../requests/Alarms'\n\nexport const FETCH_ALARMS = 'FETCH_ALARMS';\n\nexport const getAlarms = () => {\n    return (dispatch) => {\n        alarmActions.getAlarms(localStorage.getItem('token'), (err, data) => {\n            if (!err) {\n                dispatch({\n                    type: FETCH_ALARMS,\n                    data\n                })\n            }\n        })\n    }\n};","import {US} from './Authentication'\n\n/**\n *  HTTP GET\n *  Get all bills from user\n *\n * @param token {string}\n * @param callback {function(boolean, {})}\n */\nexport const getAlarms = (token, callback) => {\n    US.get('/alarms', {headers: {Authorization: `JWT ${token}`}})\n        .then(resp => {\n            callback(false, resp.data)\n        })\n        .catch(err => {\n            callback(true, err)\n        })\n};","import React from 'react';\nimport './Alarms.css';\nimport {bindActionCreators} from \"redux\";\nimport * as alarmsActions from \"../../../actions/Alarms\";\nimport connect from \"react-redux/es/connect/connect\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport Paper from \"@material-ui/core/Paper/Paper\";\nimport Table from \"@material-ui/core/Table/Table\";\nimport TableHead from \"@material-ui/core/TableHead/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody/TableBody\";\n\nclass Alarms extends React.Component {\n    constructor() {\n        super();\n    }\n\n    componentWillMount() {\n        this.props.alarmsActions.getAlarms()\n    }\n\n    render() {\n        return (\n            <div className={'alarms-container'}>\n                <Typography variant=\"h5\" style={{paddingBottom: '10px'}} gutterBottom>\n                    Alarms History\n                </Typography>\n                <Paper>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Device Id</TableCell>\n                                <TableCell align=\"right\" style={{textAlign: 'center'}}>Notification</TableCell>\n                                <TableCell align=\"right\">Time</TableCell>\n                                <TableCell align=\"right\">Value</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.props.alarms.alarms.map((row, id) => (\n                                <TableRow key={id} className={'alarm-row'}>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {row.device_id}\n                                    </TableCell>\n                                    <TableCell align=\"right\">{row.message}</TableCell>\n                                    <TableCell align=\"right\">{row.timestamp}</TableCell>\n                                    <TableCell align=\"right\">{row.value}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        alarms: state.alarms,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        alarmsActions: bindActionCreators(alarmsActions, dispatch)\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Alarms);","import React from \"react\";\nimport {\n    BrowserRouter as Router,\n    Route,\n    Link,\n    Redirect,\n    withRouter\n} from \"react-router-dom\";\nimport theme from './theme'\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport Dashboard from \"./components/Dashboard/Dashboard\";\nimport {bindActionCreators} from \"redux\";\nimport * as authenticationActions from \"./actions/Authentication\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport MenuAppBar from \"./components/AppBar/AppBar\";\nimport './App.css'\nimport Profile from \"./components/Dashboard/Profile/Profile\";\nimport Bills from \"./components/Dashboard/Bills/Bills\";\nimport Alarms from \"./components/Dashboard/Alarms/Alarms\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n    componentWillMount(){\n        this.props.authenticationActions.validate_token();\n    }\n\n    render() {\n        return (\n            <Router>\n                <MuiThemeProvider theme={theme}>\n                    <MenuAppBar/>\n                    <Route path='/' exact render={() => (<Redirect to={'/login'}/>)}/>\n                    <Route path='/login' component={Login}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/dashboard'\n                                  component={Dashboard}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/profile'\n                                   component={Profile}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/bills'\n                                  component={Bills}/>\n                    <PrivateRoute authed={this.props.authentication.authenticated} path='/notifications'\n                                  component={Alarms}/>\n                    <img src={window.location.origin +'/Logo_IT_University_of_Copenhagen.jpg'}  className={'image-responsive itu-logo'}/>\n                </MuiThemeProvider>\n            </Router>)\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        authentication: state.authentication,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        authenticationActions: bindActionCreators(authenticationActions, dispatch)\n    }\n};\n\n\nfunction PrivateRoute({component: Component, authed, ...rest}) {\n    return (\n        <Route\n            {...rest}\n            render={(props) => authed === true\n                ? <Component {...props} />\n                : <Redirect to={{pathname: '/login', state: {from: props.location}}}/>}\n        />\n    )\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\n    LOG_IN,\n    LOG_OUT\n} from '../actions/Authentication'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    username: '',\n    password: '',\n    authenticated: false,\n    token: localStorage.getItem('token')\n};\n\nexport default function authentication(state = initialState, action) {\n    switch (action.type) {\n        case LOG_IN:\n            return {\n                ...state,\n                username: action.username,\n                password: action.password,\n                token: action.token,\n                authenticated: true\n            };\n        case LOG_OUT:\n            return {\n                ...state,\n                authenticated: false\n\n            };\n\n        default:\n            return state\n    }\n}","import {\n    FETCH_BILLS\n} from '../actions/Bills'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\n\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n];\n\nconst initialState = {\n    bills: [],\n};\n\nexport default function bills(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_BILLS:\n            let aux = action.bills.map(bill => {\n                bill['Month'] = monthNames[new Date(bill.date).getMonth()];\n                return bill\n            });\n            return {\n                ...state,\n                bills: aux,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_WATERFLOW,\n    FETCH_WATERFLOW_CURRENT,\n    FETCH_WATERFLOW_PAST\n} from '../actions/waterflow'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    consumption: [],\n    current_month: [],\n    past_month: []\n};\n\nexport default function waterflow(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_WATERFLOW:\n            return {\n                ...state,\n                consumption: action.consumption,\n            };\n        case FETCH_WATERFLOW_PAST:\n            return {\n                ...state,\n                past_month: action.consumption,\n            };\n        case FETCH_WATERFLOW_CURRENT:\n            return {\n                ...state,\n                current_month: action.consumption,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_DEVICES\n} from '../actions/Devices'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    devices: [],\n    count: 0\n};\n\nexport default function devices(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_DEVICES:\n            return {\n                ...state,\n                devices: action.devices,\n                count: action.count,\n            };\n        default:\n            return state\n    }\n}","import {\n    FETCH_ALARMS\n} from '../actions/Alarms'\n\n/**\n * This is a reducer, a pure function with (state, action) => state signature.\n * It describes how an action transforms the state into the next state.\n *\n * The shape of the state is up to you: it can be a primitive, an array, an object,\n * or even an Immutable.js data structure. The only important part is that you should\n * not mutate the state object, but return a new object if the state changes.\n *\n * In this example, we use a `switch` statement and strings, but you can use a helper that\n * follows a different convention (such as function maps) if it makes sense for your\n * project.\n */\nconst initialState = {\n    alarms: [],\n};\n\nexport default function authentication(state = initialState, action) {\n    switch (action.type) {\n        case FETCH_ALARMS:\n            return {\n                ...state,\n                alarms: action.data,\n            };\n        default:\n            return state\n    }\n}","import authentication from './Authentication'\nimport bills from './Bills'\nimport waterflow from './waterflow'\nimport devices from './Devices'\nimport alarms from './Alarms'\nimport {combineReducers} from \"redux\";\n\nconst rootReducer = combineReducers({\n    authentication,\n    bills,\n    waterflow,\n    devices,\n    alarms\n});\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport reducers from './reducers'\nimport {applyMiddleware, createStore, compose} from \"redux\";\nimport {Provider} from \"react-redux\";\nimport thunk from 'redux-thunk'\n\nconst store = compose(applyMiddleware(thunk))(createStore)(reducers);\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}